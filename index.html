<html>
  <head>
    <title>Home</title>
    <link rel="stylesheet" href="camel.css" />
    <link rel="stylesheet" href="v0.0.1.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
      $(function() {
        $.getJSON("http://localhost:8080/v0/connector")
            .done(function(list) {
                $("#noConnectors").text(list.length)
            });
        $.getJSON("http://localhost:8080/v0/channel")
            .done(function(list) {
                $("#noChannels").text(list.filter(elem => !elem.name.startsWith("consumer-offset")).length)
            });
        $.getJSON("http://localhost:8080/v0/eventsource")
            .done(function(list) {
                $("#noEventSources").text(list.length)
            });
        $.getJSON("http://localhost:8080/v0/eventsink")
            .done(function(list) {
                $("#noEventSinks").text(list.length)
            });
      })
    </script>
  </head>
  <body>
    <header class="header">
      <div class="logo">
        <a href="./index.html">
          <img alt="Camel Konsole" src="./logo-d.svg" width="32" height="32">
          Camel K Managed Connectors
        </a>
      </div>
    </header>
    <div class="body">
      <nav class="nav-container">
        <div>
          <a href="./connectors/index.html">Connectors</a>
        </div>
        <div>
          <a href="./channels/index.html">Channels</a>
        </div>
        <div>
          <a href="./instances/index.html?type=source">Event Sources</a>
        </div>
        <div>
          <a href="./instances/index.html?type=sink">Event Sinks</a>
        </div>
      </nav>

      <main class="article">
        <h2>Home of the Camel K Connectors</h2>
        <div>
          <p>Welcome to the managed connector service for Camel K!</p>
          <p>
            Your cluster is happily serving
            <span id="noConnectors"></span> <code><a href="./connectors/index.html">Connectors</a></code>,
            <span id="noChannels"></span> <code><a href="./channels/index.html">Channels</a></code>,
            <span id="noEventSources"></span> <code><a href="./instances/index.html?type=source">Event source</a></code> connector instances,
            <span id="noEventSinks"></span> <code><a href="./instances/index.html?type=sink">Event sink</a></code> connector instances.
          </p>
        </div>
      </main>
    </div>

    <footer>
      <div class="footerlinks">
        <a href="https://camel.apache.org/camel-k/latest/index.html">Documentation</a> |
        <a href="https://camel.apache.org/camel-k/latest/index.html">About Camel</a> |
        <a href="https://camel.apache.org/camel-k/latest/index.html">About Camel K</a>
      </div>
    </footer>
  </body>
</html>
