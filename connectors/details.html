<html>
  <head>
    <title>Connectors</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(function() {
            // extract the query string parameters
            var paramLoc = window.location.href.indexOf("?");
            var paramStr = window.location.href.slice(paramLoc+1);
            var ref = "";
            var i = paramStr.indexOf("ref=")+4;
            for (var j = i; j < paramStr.length; j++) {
                if (paramStr.charAt(j) == "&")
                    break;
                ref += paramStr.charAt(j);
            }
            ref = decodeURIComponent(ref);

            $.getJSON("http://localhost:8080/v0/connector")
                .done(function(list) {
                    list.forEach(function(elem) {
                        if (elem.name == ref) {
                            $("#connectorName").text(elem.name);
                            $("#connectorType").text(elem.type);
                            $("#configuration").text(elem.configuration);
                        }
                    });
                });
        })
    </script>
  </head>
  <body>
    <div>Header</div>
    <div>
      <div><span>Connector name: </span><span id="connectorName"></span></div>
      <div><span>Connector type: </span><span id="connectorType"></span><div>
      <div>
        <span>Connector configuration: </span><textarea id="configuration"></textarea>
      </div>
    </div>
    <div>Footer</div>
  </body>
</html>
